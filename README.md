"""
# ü§ñ AI-–∞–≥–µ–Ω—Ç Olivia

AI-–∞–≥–µ–Ω—Ç **Olivia** ‚Äî —ç—Ç–æ –±–æ—Ç –¥–ª—è –º–∞–≥–∞–∑–∏–Ω–∞, –∫–æ—Ç–æ—Ä—ã–π –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç –æ–±—â–µ–Ω–∏–µ —Å –∫–ª–∏–µ–Ω—Ç–∞–º–∏, –ø–æ–º–æ–≥–∞–µ—Ç —Å –≤—ã–±–æ—Ä–æ–º —Ä–∞—Å—Ç–µ–Ω–∏–π, –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ–º –∑–∞–∫–∞–∑–æ–≤ –∏ –ø—Ä–µ–¥–∑–∞–∫–∞–∑–æ–≤, –∞ —Ç–∞–∫–∂–µ —É–≤–µ–¥–æ–º–ª—è–µ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤ –æ –Ω–æ–≤—ã—Ö –æ–±—Ä–∞—â–µ–Ω–∏—è—Ö.  
–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–µ–¥–æ–≤—ã–µ –º–æ–¥–µ–ª–∏ **GPT** –∏ **Retrieval-Augmented Generation (RAG)** –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —Ç–æ—á–Ω—ã—Ö –∏ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤.

---

## üåü –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤**: –ü–µ—Ä–µ–¥ –æ–±—Ä–∞—â–µ–Ω–∏–µ–º –∫ LLM, –±–æ—Ç –∫–ª–∞—Å—Å–∏—Ñ–∏—Ü–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã, —á—Ç–æ–±—ã –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, —Ç—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è –ø–æ–º–æ—â—å –º–µ–Ω–µ–¥–∂–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è B2B-–∑–∞–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ —Ä–µ–∫–ª–∞–º–∞—Ü–∏–π).
- **–ß–∞—Ç-–∞–≥–µ–Ω—Ç –Ω–∞ –±–∞–∑–µ GPT-4o**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç GPT-4o (Vision) –¥–ª—è –æ–±—â–µ–Ω–∏—è, —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –¥–µ–π—Å—Ç–≤–∏–π —á–µ—Ä–µ–∑ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã.
- **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (Tools)**:
  - `search`: –ü–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–∞–ª–æ–≥—É —Ä–∞—Å—Ç–µ–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –≤–µ–∫—Ç–æ—Ä–Ω–æ–≥–æ –ø–æ–∏—Å–∫–∞.
  - `order/preorder`: –û—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤ –∏ –ø—Ä–µ–¥–∑–∞–∫–∞–∑–æ–≤, –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ Telegram-—á–∞—Ç –º–µ–Ω–µ–¥–∂–µ—Ä–æ–≤.
  - `suggest_accessories`: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∞–ø—Å–µ–ª–ª, –ø—Ä–µ–¥–ª–∞–≥–∞—é—â–∏–π —Å–æ–ø—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ç–æ–≤–∞—Ä—ã (–∫–∞—à–ø–æ, —É–¥–æ–±—Ä–µ–Ω–∏—è) –ø–æ—Å–ª–µ –ø–æ–∫—É–ø–∫–∏.
- **–ú–Ω–æ–≥–æ–º–æ–¥–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞**: –ê–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π —Ä–∞—Å—Ç–µ–Ω–∏–π, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–º, –∏ –∏—Ö —Ä–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ.
- **–°–∏—Å—Ç–µ–º–∞ RAG**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —ç–º–±–µ–¥–¥–∏–Ω–≥–∏ –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö —Ä–∞—Å—Ç–µ–Ω–∏–π, –∫–æ—Ç–æ—Ä–∞—è —Ä–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –∏–∑ MoySklad –∏ Google Sheets.
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏**: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ RetailCRM –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞–º–∏ –∏ MoySklad –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ–± –∞—Å—Å–æ—Ä—Ç–∏–º–µ–Ω—Ç–µ –∏ –æ—Å—Ç–∞—Ç–∫–∞—Ö.

---

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Ä–∞–∑–¥–µ–ª—ë–Ω –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Å–ª–æ—ë–≤:

- `main.py` & `telegrambot.py`: –ü—Ä–∏—ë–º/–æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π, WebSocket-–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ, —Å–µ—Ç–µ–≤–æ–π —Å–ª–æ–π.
- `chat_context.py`: –ü–∞–º—è—Ç—å –¥–∏–∞–ª–æ–≥–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ (FSM).
- `bot_agent.py`: –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ LLM-–∞–≥–µ–Ω—Ç–æ–º –∏ –µ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏.
- `plant_utils.py`: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö, —Å–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–æ–≤ –∏ –≤–µ–∫—Ç–æ—Ä–Ω—ã–π –ø–æ–∏—Å–∫ –ø–æ –∫–∞—Ç–∞–ª–æ–≥—É.
- `config.py`: –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π API –∏ —Ç–æ–∫–µ–Ω–æ–≤, –∑–∞–≥—Ä—É–∂–∞–µ–º—ã—Ö –∏–∑ `.env`.

---

## üöÄ –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞ —Å –ø–æ–º–æ—â—å—é Docker

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone https://github.com/Lavr-18/AI-agent-Olivia.git
cd AI-agent-Olivia
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –Ω–∞ –æ—Å–Ω–æ–≤–µ —à–∞–±–ª–æ–Ω–∞ `env.example` –∏ –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –µ–≥–æ —Å–≤–æ–∏–º–∏ –∫–ª—é—á–∞–º–∏ API –∏ —Ç–æ–∫–µ–Ω–∞–º–∏:

```bash
cp env.example .env
nano .env
```


### 3. –°–±–æ—Ä–∫–∞ Docker-–æ–±—Ä–∞–∑–∞

–°–æ–±–µ—Ä–∏—Ç–µ Docker-–æ–±—Ä–∞–∑. –≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ–∑–¥–∞—Å—Ç –æ–±—Ä–∞–∑, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

docker build -t tropichouse-agent .

### 4. –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä, –ø–µ—Ä–µ–¥–∞–≤ –≤ –Ω–µ–≥–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ –≤–∞—à–µ–≥–æ .env —Ñ–∞–π–ª–∞:

```bash
docker run -d --name tropichouse-instance -p 80:8000 --env-file .env tropichouse-agent
```

--name tropichouse-instance: –ò–º—è –≤–∞—à–µ–≥–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

-p 80:8000: –ü—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç —Ç—Ä–∞—Ñ–∏–∫ —Å –ø–æ—Ä—Ç–∞ 80 –≤–∞—à–µ–π –º–∞—à–∏–Ω—ã –Ω–∞ –ø–æ—Ä—Ç 8000 –≤–Ω—É—Ç—Ä–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞.

--env-file .env: –£–∫–∞–∑—ã–≤–∞–µ—Ç Docker –∑–∞–≥—Ä—É–∑–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–∑ —Ñ–∞–π–ª–∞ .env.

–ë–æ—Ç –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–µ–Ω —á–µ—Ä–µ–∑ API –∏ WebSocket-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è. –ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
```bash
docker ps
```
